# USB101D Lightweight SDK

USB101D is a 4-channel USB data acquisition card supporting up to **1 MS/s**. This repository ships a **lightweight SDK** together with a **C# demo project**, offering a streamlined, unified interface for both x86 and x64 applications.

> **Note** Ensure that the official Altai/ART USB101D driver is installed and the device appears in *Device Manager* before using the SDK.

---

## Repository layout

```text
USB101D_SDK/           # C SDK source (compiled as a DLL)
│   ├─ USB101DSDK.h    # Public header
│   └─ USB101DSDK.cpp  # Implementation
build_sdk.bat          # One-click build script (x86 & x64, /MT)
output/                # Artifacts generated by the script
│   ├─ x86/            # 32-bit DLL, LIB, headers
│   └─ x64/            # 64-bit DLL, LIB, headers
CSharpDemo/            # .NET 8.0 example project
│   ├─ Program.cs
│   └─ *.csproj / bin / obj …
USB101D_32.lib         # Vendor import library (x86)
USB101D_64.lib         # Vendor import library (x64)
USB101D.h              # Original vendor header (unmodified)
```

---

## Quick build

A batch script **`build_sdk.bat`** is provided to compile the SDK for both 32-bit and 64-bit targets:

```powershell
# Execute from a *Developer Command Prompt for VS 2022* or PowerShell
cd USB101D_SDK          # repository root
.\build_sdk.bat         # build everything
```

The script performs the following steps:

1. Runs `vcvarsall.bat` to prepare the MSVC environment.
2. Compiles `USB101DSDK.cpp` with `/MT` and links against `USB101D_32.lib` / `USB101D_64.lib`.
3. Copies the resulting `USB101DSDK.dll`, `USB101DSDK.lib`, and headers into `output/x86` and `output/x64`.

Resulting directory structure:

```text
output/x86/
    USB101DSDK.dll  USB101DSDK.lib  USB101DSDK.h  USB101D.h  USB101D_32.lib
output/x64/
    USB101DSDK.dll  USB101DSDK.lib  USB101DSDK.h  USB101D.h  USB101D_64.lib
```

If the script cannot find `vcvarsall.bat`, modify the `VS_VCVARS` variable at the top of the script to match your Visual Studio installation path.

---

## C# demo

```powershell
cd CSharpDemo
dotnet run --configuration Release
```

Requirements:

1. **`USB101DSDK.dll`** *and* the vendor **`USB101D_32/64.dll`** must be discoverable (placed next to the executable or in the system `PATH`).
2. A USB101D device is connected and idle.

The demo application will:

* Open the first available device.
* Start continuous acquisition at **1 kS/s** on four channels.
* Convert raw codes to voltages and print them in real-time.

---

## FAQ

| Question | Answer |
| -------- | ------ |
| *"USB101D.dll not found"* | Verify the vendor driver is installed or copy the DLL into the working directory / `PATH`. |
| `USBSDK_Open` returns `NULL` | The device may be busy or the driver failed—re-insert the device or reboot the PC. |
| Linker error *LNK2019 unresolved external symbol* | Link against `USB101D_32.lib` (x86) or `USB101D_64.lib` (x64). |

---

## License

This repository provides a **wrapper and demo** based on the official USB101D SDK. Copyright belongs to the original manufacturer and respective authors. The code is supplied **for evaluation & educational use only**; commercial redistribution is **not permitted**. 